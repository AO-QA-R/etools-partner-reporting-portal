<link rel="import" href="../redux.html">
<link rel="import" href="../../constants.html">

<script>
  (function () {
    'use strict';

    App.Reducers = App.Reducers || {};

    App.Reducers.PartnerProjects = Redux.combineReducers({
      all: partnerProjectsListReducer,
      count: partnerProjectsCountReducer,
      loading: loadingPartnerProjectsReducer,
      // loadingDetails: loadingPartnerProjectsReducer,
      // details: indicatorPartnerProjectsReducer,
    });

    function partnerProjectsListReducer(state, action) {
      if (typeof state === 'undefined') {
        state = [];
      }

      switch (action.type) {
        case App.Constants.SET_PARTNER_PROJECTS_LIST:
          return action.data.results;

        case App.Constants.RESET:
          return [];

        default:
          return state;
      }
    }

    function partnerProjectsCountReducer(state, action) {
      if (typeof state === 'undefined') {
        state = 0;
      }

      switch (action.type) {
        case App.Constants.SET_PARTNER_PROJECTS_COUNT:
          return action.count;

        default:
          return state;
      }
    }

    function loadingPartnerProjectsReducer(state, action) {
      if (typeof state === 'undefined') {
        state = false;
      }

      switch (action.type) {
        case App.Constants.PARTNER_PROJECTS_LOADING_START:
          return true;

        case App.Constants.PARTNER_PROJECTS_LOADING_STOP:
          return false;

        default:
          return state;
      }
    }

    // function loadingDetailsReducer(state, action) {
    //   if (typeof state === 'undefined') {
    //     state = false;
    //   }
    //
    //   switch (action.type) {
    //     case App.Constants.INDICATOR_DETAILS_LOADING_START:
    //       return true;
    //
    //     case App.Constants.INDICATOR_DETAILS_LOADING_STOP:
    //       return false;
    //
    //     default:
    //       return state;
    //   }
    // }
    //
    // function indicatorDetailsReducer(state, action) {
    //   if (typeof state === 'undefined') {
    //     state = {};
    //   }
    //
    //   switch (action.type) {
    //     case App.Constants.SET_INDICATOR_DETAILS:
    //       var indicatorKey = Object.keys(action.details)[0];
    //
    //       // // Make a copy of the existing details state.
    //       var copy = Object.assign({}, state.details);
    //
    //       //Override any prior data at this key.
    //       copy[indicatorKey] = action.details[indicatorKey];
    //
    //       // Add the updated disaggregations state to the full state.
    //       var fullState = Object.assign({}, state, {
    //         details: copy
    //       });
    //
    //       return fullState;
    //
    //     default:
    //       return state;
    //   }
    // }

  }());
</script>
