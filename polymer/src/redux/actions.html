<link rel="import" href="../constants.html">
<link rel="import" href="../../bower_components/promise-polyfill/promise-polyfill-lite.html">

<script>
  (function () {
    'use strict';

    App.Actions = {
      setToken: function (token) {
        return {
          type: App.Constants.SET_TOKEN,
          token: token,
        };
      },

      resetToken: function () {
        return {
          type: App.Constants.RESET_TOKEN,
        };
      },

      userLogin: function () {
        return {
          type: App.Constants.USER_LOGIN,
        };
      },

      userLogout: function () {
        return function (dispatch) {
          /**
           * TODO:
           * - reset store
           * - return logout api call
           */

          dispatch(App.Actions.resetToken());

          return Promise.resolve(); // FIXME
        };
      },

      setCountry: function (newCountry) {
        return {
          type: App.Constants.SET_COUNTRY,
          country: newCountry,
        };
      },

      setCountries: function (countries) {
        return {
          type: App.Constants.SET_COUNTRIES,
          countries: countries,
        };
      },

      setApp: function (app) {
        return {
          type: App.Constants.SET_APP,
          app: app,
        };
      },

      reset: function () {
        return {
          type: App.Constants.RESET,
        };
      },
    };
  }());
</script>
