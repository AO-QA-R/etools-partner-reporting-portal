<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="filter-list">
  <template>
    <content></content>
  </template>

  <script>
    Polymer({
      is: 'filter-list',

      properties: {
        filters: {
          type: Object,
          notify: true,
          readOnly: true,
          value: {},
        },
      },

      listeners: {
        'filter-changed': '_onFilterChanged',
      },

      _onFilterChanged: function (e, change) {
        e.stopPropagation();

        /**
         * If we ever decide to debounce accross filters,
         * here's the place to put the logic for it.
         */

        var newFilters = Object.assign({}, this.filters);

        if (change.value.length) {
          newFilters[change.name] = change.value;
        } else {
          delete newFilters[change.name];
        }

        this._setFilters(newFilters);
      },
    });
  </script>
</dom-module>
