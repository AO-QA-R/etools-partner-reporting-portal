<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/etools-ajax/etools-ajax.html">
<link rel="import" href="../../../../scripts/lodash/lodash.html">

<link rel="import" href="indicators-list-data.html">
<!-- <link rel="import" href="../../../app-behaviors/data-element-behavior.html">
<link rel="import" href="../../../app-config/etools-app-config.html">
<link rel="import" href="../../static-common-data/redux-behaviors/common-static-data-redux-behavior.html"> -->

<dom-module id="indicators-list-data">

  <template>

    <etools-ajax id="ajax"
                 endpoint="api/indicator/"
                 on-success="_handleMyResponse">
    </etools-ajax>

  </template>

  <script>
    (function() {
      'use strict';

      Polymer({

        is: 'indicator-list-data',

        behaviors: [
        ],

        properties: {

          endpointName: {
            type: String,
            value: 'indicators'
          },

          dataLoadedEventName: {
            type: String,
            value: 'indicators-loaded'
          },

        },
        actions: {
          // setIndicators: function(indicators) {
          //   return {
          //     type: 'SET_INDICATORS',
          //     indicatorsList: indicators
          //   };
          // }
        },

        ready: function() {
          if (this.showLoading) {
            this.fire('global-loading', {message: 'Loading indicator data...', active: true});
          }
          this._elementReady();
        },

        _handleMyResponse: function(res) {
          console.log(res)
          this._handleResponse(res);
          // this.dispatch('setIndicators', res.detail);
        },

      });
    })();
  </script>

</dom-module>
