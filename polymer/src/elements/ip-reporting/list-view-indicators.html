<link rel="import" href="../../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../../bower_components/etools-data-table/etools-data-table.html">
<link rel="import" href="../../../../bower_components/etools-data-table/data-table-styles.html">

<link rel="import" href="../../styles/page-headers.html">

<dom-module id="list-view-indicators">
  <template>
    <style include='page-headers data-table-styles'>
      :host {
        display: block;
      }
    </style>

    <h3>List of Indicators</h3>
    <etools-data-table-header
      id="listHeader"
      label="[[visibleRange.0]]-[[visibleRange.1]] of [[totalResults]] results to show">
      <etools-data-table-column class="col-2" field="number" sortable>
        PD/SSFA ToR ref.#
      </etools-data-table-column>
      <etools-data-table-column class="col-4" field="indicator">
        Indicator
      </etools-data-table-column>
      <etools-data-table-column class="flex-c" field="progress" sortable>
        Current progress
      </etools-data-table-column>
    </etools-data-table-header>

    <template id="rows" is="dom-repeat" items="[[indicators]]" as="indicator">
        <etools-data-table-row details-opened="[[detailsOpened]]">
          <div slot="row-data">
            <span class="col-data col-2">
              [[indicator.code]]
              2016/000-0
            </span>
            <span class="col-data col-4">
              [[indicator.title]]
              Lorem ipsum dolor sit amet, etiam mattis, quisque dapibus proin et. Etiam arcu est mollis amet nulla, id ut morbi.
            </span>
            <span class="col-data flex-c">
              [[indicator.unit]]
              (Progress bar here)
            </span>
          </div>
          <div slot="row-data-details"></div>
        </etools-data-table-row>
    </template>

    <etools-data-table-footer
        page-size="[[pageSize]]"
        page-number="[[pageNumber]]"
        total-results="[[totalResults]]"
        visible-range="{{visibleRange}}"
        on-page-size-changed="_pageSizeSelected"
        on-page-number-changed="_pageNumberChanged">
    </etools-data-table-footer>

  </template>
  <script>
    Polymer({
      is: 'list-view-indicators',
      properties: {
        // TODO: Remove this when fakedata ready.
        indicators: {
          type: Object,
          value: [{'test': []}, {'test2': []}],
        },
        detailsOpened: {
          type: Boolean,
          value: false
        }
      }
    });
  </script>
</dom-module>
